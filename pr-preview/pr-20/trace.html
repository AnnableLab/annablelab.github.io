<!DOCTYPE html><html lang="en" data-theme="dark"> <head><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-HNTKBKHJY3"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-HNTKBKHJY3');
    </script><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Sigenergy with Home Assistant and EMHASS</title><meta name="description" content="Step-by-step guide automating a Sigenergy system with Home Assistant using EMHASS and Amber Electric in Australia."><link rel="stylesheet" href="/assets/css/style.css"></head> <body> <header class="site-header"> <div class="wrap"> <h1 class="site-title"> <a href="/">Sigenergy with Home Assistant and EMHASS</a> </h1> <p class="site-description">Step-by-step guide automating a Sigenergy system with Home Assistant using EMHASS and Amber Electric in Australia.</p> <nav class="site-nav"> <ul> <li> <a href="/">Home</a> </li><li> <a href="/architecture">Architecture</a> </li><li> <a href="/prerequisites">Prerequisites</a> </li><li> <a href="/setup">EMHASS Setup</a> </li><li> <a href="/emhass">Running EMHASS</a> </li><li> <a href="/dashboard">Dashboard</a> </li><li> <a href="/automation">Battery Automation</a> </li><li> <a href="/conclusion">Conclusion</a> </li> </ul> </nav> </div> </header> <main class="wrap content"> <h1 id="trace-downloading">Trace Downloading</h1>
<p>The EMHASS script trace is a JSON file that contains all the information sent to EMHASS from Home Assistant. It is great
for debugging as you can verify that all the sensors are working and that the data sent to EMHASS is correct.</p>
<ol>
<li>Open the Generate EMHASS Energy Plan script (note: not the automation)</li>
<li>Click the Traces icon up the top right</li>
<li>Click the 3 dots up the top right</li>
<li>Click Download trace</li>
</ol>
<p align="center"><img src="/img/download_trace.png" alt="Download Trace Screenshot" width="800"/></p>
<h2 id="common-issues">Common Issues</h2>
<h3 id="1-invalid-inverter-settings">1. Invalid inverter settings</h3>
<p>Under <code>sequence/5</code> there should be a payload that should contain all the inverter parameters. e.g.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>&quot;battery_charge_power_max&quot;: 25200,</span></span>
<span class="line"><span>&quot;battery_discharge_power_max&quot;: 28800,</span></span>
<span class="line"><span>&quot;maximum_power_from_grid&quot;: 45000,</span></span>
<span class="line"><span>&quot;maximum_power_to_grid&quot;: 30000,</span></span>
<span class="line"><span>&quot;inverter_ac_output_max&quot;: 30000,</span></span>
<span class="line"><span>&quot;inverter_ac_input_max&quot;: 30000,</span></span></code></pre>
<p>Make sure these all have values and they are in watts.</p>
<h3 id="2-invalid-current-loadpricepv">2. Invalid current Load/Price/PV</h3>
<p>Check the first value under all these lists of values:</p>
<ol>
<li><code>load_cost_forecast</code></li>
<li><code>prod_price_forecast</code></li>
<li><code>load_power_forecast</code></li>
<li><code>pv_power_forecast</code></li>
</ol>
<p>Make sure they look correct and valid.</p> </main> </body></html>